<div class="component {componentClass}
    {modifiers(type, componentClass + '--')}">
    <header class="{componentClass}__header
        {modifiers(type, componentClass + '__header--')}">
        <h2 class="{componentClass}__title">
            {@html header}
        </h2>
    </header>
    <div class="{componentClass}__body
    {modifiers(type, componentClass + '__body--')}">
        <p class="{componentClass}__text">
            <slot>{@html body}</slot>
        </p>
    </div>
    <footer class="{componentClass}__footer
    {modifiers(type, componentClass + '__footer--')}">
        <p class="{componentClass}__text">
            {@html footer}
        </p>
    </footer>
</div>

<style>
    .generic {
        display: inline-flex;
        flex-direction: column;
        max-width: 50rem;
        width: 50%;
        background-color: white;
        border-radius: 3px;
        margin-bottom: 1.5rem;
        margin-right: 1.5rem;
    }

    .generic--wide {
        max-width: none;
        width: calc(75% - 1.5rem);
    }

    .generic--compact {
        width: calc(25% - 1.5rem);
    }

    .generic p:last-child {
        margin-bottom: 0;
    }

    .generic__header,
    .generic__body,
    .generic__footer {
        flex: 1 0 auto;
        padding: 1.5rem;
    }

    .generic__body {
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
    }

    .generic__title {
        font-size: 1.5rem;
        margin: 0;
    }
</style>

<script>
    import modifiers from '@/helpers/class-modifiers';

    export default {
        data() {
            return {
                componentClass: 'generic',
                header: "Generic Header",
                body: "Body",
                footer: "Footer",
                type: [],
            }
        },
        helpers: {
            modifiers
        },

        setup(thisComponent) {
            thisComponent.TYPES = ['wide', 'compact', ''];
        },

        methods: {
            cycleTypes() {
                const buttonTypes = this.constructor.TYPES;
                const currentType = this.get('type')[0] || '';
                const i = buttonTypes.indexOf(currentType);
                const nextItem = (buttonTypes.length - 1) > i ? buttonTypes[i + 1] : buttonTypes[0];

                this.set({body: titleCase(nextItem || 'normal')})
                return this.set({type: [nextItem]});
            }
        }
    }
</script>
